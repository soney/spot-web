{"version":3,"sources":["webpack:///./src/components/layout.tsx","webpack:///./src/components/authors.tsx","webpack:///./src/templates/publication.tsx","webpack:///./src/components/publications.tsx","webpack:///./src/components/publication-list.tsx"],"names":["SpotPage","Layout","props","context","render","className","charSet","this","title","getActiveClass","home","to","research","getAdditionalInfo","team","role","children","pageName","active","additionalInfo","React","AuthorDisplay","data","highlight","withLinks","membership","data-author-id","id","given_name","family_name","homepage","href","target","AuthorListDisplay","highlightAuthors","authorDisplays","authors","map","a","includes","key","length","splice","i","pubQuery","publication","strapiPublication","Array","from","authorsDisplay","awardDisplay","award","description","award_description","downloadName","getDownloadName","venue_str","venue","short_name","year","pdfDisplay","pdf","publicURL","download","abstract","AwardType","PublicationSummaryDisplay","detailLevel","PublicationDetailLevel","data-authors","join","short_description","AwardDisplay","type","best_paper","honorable_mention","none","iconDisplay","pub","shortAuthors","replace","PublicationListDisplay","groupByVenue","backTo","venuePubs","Map","idToVenueYear","venueTimes","forEach","vid","has","get","push","set","conference_start","match","RegExp","split","d","parseInt","month","day","Date","getTime","vOrder","keys","sort","b","aVenueTime","vyDisplays","venueString","pubDisplays","venueDisplay","vyid"],"mappings":"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","file":"component---src-templates-publication-tsx-9fb95502f2336016376a.js","sourcesContent":["import * as React from 'react'\r\nimport Link from 'gatsby-link'\r\nimport { Helmet } from 'react-helmet';\r\nimport './layout.scss'\r\n\r\nexport enum SpotPage {\r\n    home='home', research='research', team='team'\r\n}\r\n\r\ninterface LayoutProperties {\r\n    children: (JSX.Element|string|(JSX.Element|string)[]),\r\n    active: SpotPage,\r\n    additionalInfo?: string,\r\n    title?: string\r\n}\r\nexport class Layout extends React.Component<LayoutProperties, {}> {\r\n    constructor(props: LayoutProperties, context: {}) {\r\n        super(props, context);\r\n    }\r\n    public render() {\r\n        return <div className='application'>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>{ (this.props.title ? `${this.props.title} | ` : '') + 'Spot Research Group' }</title>\r\n            </Helmet>\r\n            <nav className=\"container navbar navbar-expand-sm navbar-light bg-light\">\r\n                <Link className={\"navbar-brand\"+this.getActiveClass(SpotPage.home)} to=\"/\">spot</Link>\r\n                <ul className=\"navbar-nav\">\r\n                    <li className={\"nav-item\"+this.getActiveClass(SpotPage.research)}><Link to=\"/research\" className=\"nav-link\">Research</Link>{this.getAdditionalInfo(SpotPage.research)}</li>\r\n                    <li className={\"nav-item\"+this.getActiveClass(SpotPage.team)}><Link to=\"/team\" className=\"nav-link\">Team</Link>{this.getAdditionalInfo(SpotPage.team)}</li>\r\n                </ul>\r\n            </nav>\r\n            <main role=\"main\" className=\"\">{this.props.children}</main>\r\n        </div>;\r\n    }\r\n    private getActiveClass(pageName: SpotPage): string {\r\n        return pageName===this.props.active ? ' active' : '';\r\n    }\r\n    private getAdditionalInfo(pageName: SpotPage): JSX.Element|null {\r\n        if(this.props.active === pageName && this.props.additionalInfo) {\r\n            return <span className='subtitle'> / {this.props.additionalInfo}</span>\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}","import * as React from 'react'\r\nimport { StrapiAuthor } from '../../graphql-types';\r\nimport Link from 'gatsby-link'\r\n\r\ninterface AuthorDisplayProps {\r\n    data: StrapiAuthor,\r\n    withLinks?: boolean,\r\n    highlight?: boolean\r\n}\r\n\r\nexport class AuthorDisplay extends React.Component<AuthorDisplayProps, {}> {\r\n    constructor(props: AuthorDisplayProps, context: {}) {\r\n        super(props, context);\r\n    }\r\n    public render(): JSX.Element {\r\n        const { data } = this.props;\r\n        const className = this.props.highlight ? 'highlight paper-author' : 'paper-author';\r\n        if(this.props.withLinks) {\r\n            if((data.membership === 'lead')/* || (data.membership === 'member')*/) {\r\n                return <span data-author-id={data.id} className={className}><Link className=\"author-internal-link\" to={`/${data.given_name}_${data.family_name}`}>{`${data.given_name} ${data.family_name}`}</Link></span>\r\n            } else if(data.homepage) {\r\n                return <span data-author-id={data.id} className={className}><a className=\"author-external-link\" href={data.homepage} target=\"_blank\">{`${data.given_name} ${data.family_name}`}</a></span>\r\n            }\r\n        }\r\n        return <span data-author-id={data.id} className={className}>{`${data.given_name} ${data.family_name}`}</span>\r\n    }\r\n}\r\n\r\ninterface AuthorListDisplayProps {\r\n    authors: ReadonlyArray<StrapiAuthor>,\r\n    withLinks?: boolean\r\n    highlightAuthors?: number[]\r\n}\r\nexport class AuthorListDisplay extends React.Component<AuthorListDisplayProps, {}> {\r\n    constructor(props: AuthorListDisplayProps, context: {}) {\r\n        super(props, context);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        const { highlightAuthors, authors } = this.props;\r\n        const authorDisplays:(string | JSX.Element)[] = authors.map((a) => <AuthorDisplay highlight={(highlightAuthors && (highlightAuthors.includes(a.id as any)))} withLinks={this.props.withLinks} key={a.id} data={a} />)\r\n        if (authorDisplays.length === 2) {\r\n            authorDisplays.splice(1, 0, ' and ');\r\n        } else if (authorDisplays.length > 2) {\r\n            authorDisplays.splice(authorDisplays.length-1, 0, ', and ');\r\n            for(let i: number = authorDisplays.length-3; i>0; i--) {\r\n                authorDisplays.splice(i, 0, ', ');\r\n            }\r\n        }\r\n\r\n        return <span className='paper-author-list'>{authorDisplays}</span>;\r\n    }\r\n}","import { graphql } from 'gatsby';\r\nimport * as React from 'react';\r\nimport { StrapiAuthor, StrapiPublication, StrapiVenueConnection } from '../../graphql-types';\r\nimport { AuthorListDisplay } from '../components/authors';\r\nimport { Layout, SpotPage } from '../components/layout';\r\nimport { AwardDisplay, getDownloadName } from '../components/publications';\r\nimport './publication.scss';\r\n\r\nexport const pubQuery = graphql`query publication($id: String!) {\r\n    strapiPublication(id: {eq: $id}) {\r\n        id\r\n        title\r\n        abstract\r\n        award\r\n        award_description\r\n        pdf {\r\n            id\r\n            publicURL\r\n        }\r\n        authors {\r\n            id\r\n            membership\r\n            given_name\r\n            family_name\r\n            homepage\r\n        }\r\n        venue {\r\n            id\r\n            year\r\n            short_name\r\n            homepage\r\n        }\r\n    }\r\n}`;\r\n\r\n\r\ninterface PublicationProps {\r\n    data: {\r\n        strapiPublication: StrapiPublication,\r\n        allStrapiVenue: StrapiVenueConnection\r\n    }\r\n}\r\n\r\nexport default class extends React.Component<PublicationProps, {}> {\r\n    constructor(props: PublicationProps, context: {}) {\r\n        super(props, context);\r\n    }\r\n    public render() {\r\n        const publication = this.props.data.strapiPublication;\r\n\r\n        const authors = Array.from(publication.authors) as any as StrapiAuthor[];\r\n        const authorsDisplay = <AuthorListDisplay withLinks={true} authors={authors} />;\r\n        const awardDisplay = <AwardDisplay data={publication.award} description={publication.award_description} />;\r\n        const downloadName = getDownloadName(publication);\r\n\r\n        let venue_str: string|JSX.Element = '';\r\n        if(publication.venue) {\r\n            const { venue } = publication;\r\n            if(venue) {\r\n                venue_str = `${venue.short_name} ${publication.venue.year}`;\r\n            } else {\r\n                venue_str = `${publication.venue.year}`;\r\n            }\r\n\r\n            if(venue.homepage) {\r\n                venue_str = <a target='_blank' href={venue.homepage}>{venue_str}</a>;\r\n            }\r\n        } else {\r\n            venue_str = ``;\r\n        }\r\n\r\n        const pdfDisplay = publication.pdf ? <a className=\"btn btn-primary btn-block\" href={publication.pdf.publicURL} download={downloadName}>PDF</a> : null;\r\n        return (\r\n            <Layout title={`${publication.title}`} active={SpotPage.research} additionalInfo={publication.title}>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <h1 className=\"paper-title\">{publication.title}</h1>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <h2 className=\"paper-authors\">{authorsDisplay}</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <p className=\"col-sm-10 paper-abstract\">\r\n                            {publication.abstract}\r\n                        </p>\r\n                        <div className=\"col-sm-2\">\r\n                            <h3 className=\"paper-venue\">\r\n                                {venue_str}\r\n                            </h3>\r\n                            {awardDisplay}\r\n                            {pdfDisplay}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        );\r\n    }\r\n}","import '@fortawesome/fontawesome-free/scss/fontawesome.scss';\r\nimport '@fortawesome/fontawesome-free/scss/solid.scss';\r\nimport Link from 'gatsby-link';\r\nimport * as React from 'react';\r\nimport { StrapiAuthor, StrapiPublication } from '../../graphql-types';\r\nimport { AuthorListDisplay } from './authors';\r\nimport { PublicationDetailLevel } from './publication-list';\r\n\r\n\r\ninterface PublicationSummaryDisplayProps {\r\n    data: StrapiPublication\r\n    highlightAuthors?: number[]\r\n    detailLevel: PublicationDetailLevel\r\n}\r\n\r\nexport class PublicationSummaryDisplay extends React.Component<PublicationSummaryDisplayProps, {}> {\r\n    constructor(props: PublicationSummaryDisplayProps, context: {}) {\r\n        super(props, context)\r\n    }\r\n    public render(): JSX.Element {\r\n        const { data } = this.props;\r\n        const { venue } = data;\r\n        const authors = Array.from(data.authors) as any as StrapiAuthor[];\r\n        const downloadName = getDownloadName(data);\r\n\r\n        let venue_str: string|JSX.Element = '';\r\n        if(venue) {\r\n            if(venue) {\r\n                venue_str = `${venue.short_name} ${venue.year}`;\r\n            } else {\r\n                venue_str = `${venue.year}`;\r\n            }\r\n\r\n            if(venue.homepage) {\r\n                venue_str = <a target='_blank' href={venue.homepage}>{venue_str}</a>;\r\n            }\r\n        } else {\r\n            venue_str = ``;\r\n        }\r\n        const pdfDisplay = data.pdf ? <a className=\"pdf-download\" href={data.pdf.publicURL} download={downloadName}>PDF</a> : null;\r\n\r\n        if(this.props.detailLevel === PublicationDetailLevel.title) {\r\n            return <Link className=\"paper-title\" to={`/${downloadName}`}>{data.title}</Link>;\r\n        } else {\r\n            return <div className=\"paper row\" data-authors={authors.map((a) => a.id).join(',')}>\r\n                <div className=\"col-sm-10\">\r\n                    <Link className=\"paper-title\" to={`/${downloadName}`}>{data.title}</Link>\r\n                    <div className=\"paper-authors\"><AuthorListDisplay authors={authors} withLinks={true} highlightAuthors={this.props.highlightAuthors} /></div>\r\n                    {data.short_description && <p className=\"paper-description\">{data.short_description}</p>}\r\n                </div>\r\n                <div className=\"col-sm-2 text-left\">\r\n                    <div className=\"paper-venue\">{venue_str}</div>\r\n                    <div className=\"paper-award\"><AwardDisplay data={data.award} description={data.award_description} /></div>\r\n                    <div className=\"paper-pdf\">{pdfDisplay}</div>\r\n                </div>\r\n            </div>;\r\n        }\r\n    }\r\n}\r\n\r\nenum AwardType {\r\n    best_paper,\r\n    honorable_mention,\r\n    none\r\n};\r\ninterface AwardDisplayProps {\r\n    data: string|null,\r\n    description: string|null\r\n}\r\nexport class AwardDisplay extends React.Component<AwardDisplayProps, {}> {\r\n    private type: AwardType;\r\n    private description: string;\r\n    constructor(props: AwardDisplayProps, context: {}) {\r\n        super(props, context)\r\n        if(this.props.data === 'best_paper') {\r\n            this.type = AwardType.best_paper;\r\n            this.description = this.props.description ? this.props.description : 'Best Paper';\r\n        } else if(this.props.data === 'honorable_mention') {\r\n            this.type = AwardType.honorable_mention;\r\n            this.description = this.props.description ? this.props.description : 'Honorable Mention';\r\n        } else {\r\n            this.type = AwardType.none;\r\n            this.description = this.props.description ? this.props.description : '';\r\n        }\r\n    }\r\n    public render():JSX.Element {\r\n        const iconDisplay = (this.type === AwardType.best_paper) ? <i className='fas fa-trophy'></i> :\r\n                        (this.type === AwardType.honorable_mention ? <i className=\"fas fa-award\"></i>: <i />);\r\n                    \r\n        return <span className='paper-award'>{iconDisplay} {this.description}</span>;\r\n    }\r\n}\r\n\r\nexport function getDownloadName(pub: StrapiPublication): string {\r\n    let shortAuthors: string = '';\r\n    if(pub.authors.length === 1) {\r\n        shortAuthors = `${pub.authors[0].family_name}`;\r\n    } else if(pub.authors.length === 2) {\r\n        shortAuthors = `${pub.authors[0].family_name} and ${pub.authors[1].family_name}`;\r\n    } else if(pub.authors.length > 2) {\r\n        shortAuthors = `${pub.authors[0].family_name} et al`;\r\n    }\r\n    let short_venue_year: string = '';\r\n    if(pub.venue) {\r\n        short_venue_year = `${pub.venue.short_name}${pub.venue.year}`;\r\n    } else {\r\n        short_venue_year = ``;\r\n    }\r\n    return `${shortAuthors}-${short_venue_year}-${pub.title}`.replace(/ /g, '_').replace(/[^\\w_-]/g, '');\r\n}\r\n\r\nexport function getDateRangeString(from: Date, to: Date): string {\r\n    const fromYear = from.toLocaleString('default', { year: 'numeric' });\r\n    const toYear = to.toLocaleString('default', { year: 'numeric' });\r\n    const fromMonth = from.toLocaleString('default', { month: 'short' });\r\n    const toMonth = to.toLocaleString('default', { month: 'short' });\r\n    const fromDay = from.toLocaleString('default', { day: 'numeric' });\r\n    const toDay = to.toLocaleString('default', { day: 'numeric' });\r\n\r\n    if(fromYear === toYear) {\r\n        if(fromMonth === toMonth) {\r\n            if(fromDay === toDay) {\r\n                return `${fromMonth} ${fromDay}`;\r\n            } else {\r\n                return `${fromMonth} ${fromDay} – ${toDay}`;\r\n            }\r\n        } else {\r\n            return `${fromMonth} ${fromDay} – ${toMonth} ${toDay}`;\r\n        }\r\n    } else {\r\n        return `${fromMonth} ${fromDay} ${fromYear} – ${toMonth} ${toDay} ${toYear}`;\r\n    }\r\n}","import '@fortawesome/fontawesome-free/scss/fontawesome.scss';\r\nimport '@fortawesome/fontawesome-free/scss/solid.scss';\r\nimport * as React from 'react';\r\nimport { StrapiPublication, StrapiPublicationVenue } from '../../graphql-types';\r\nimport { PublicationSummaryDisplay } from './publications';\r\n\r\nexport enum PublicationDetailLevel {\r\n    title='title', title_author_venue='title_author_venue'\r\n}\r\n\r\ninterface PublicationListDisplayProps {\r\n    groupByVenue: boolean;\r\n    data: ReadonlyArray<StrapiPublication>\r\n    detailLevel?: PublicationDetailLevel\r\n    backTo?: number\r\n    highlightAuthors?: number[]\r\n}\r\nexport class PublicationListDisplay extends React.Component<PublicationListDisplayProps, {}> {\r\n    constructor(props: PublicationListDisplayProps, context: {}) {\r\n        super(props, context)\r\n    }\r\n    public render() {\r\n        const { data, groupByVenue, backTo } = this.props;\r\n        const venuePubs: Map<number, StrapiPublication[]> = new Map();\r\n        const idToVenueYear: Map<number, StrapiPublicationVenue> = new Map();\r\n        const venueTimes: Map<number, number> = new Map();\r\n        data.forEach((pub) => {\r\n            const { venue } = pub;\r\n            if(!backTo || venue.year >= backTo) {\r\n                const vid = venue ? venue.id : -1;\r\n                if(venuePubs.has(vid)) {\r\n                    venuePubs.get(vid).push(pub);\r\n                } else {\r\n                    venuePubs.set(vid, [pub]);\r\n                    idToVenueYear.set(vid, venue);\r\n                }\r\n\r\n                if(venue && venue.conference_start && venue.conference_start.match(new RegExp(\"\\\\d+/\\\\d+\")) && venue.year) {\r\n                    const { conference_start, year } = venue;\r\n                    const [month, day] = conference_start.split('/').map(d => parseInt(d));\r\n                    venueTimes.set(vid, new Date(`${year}-${month}-${day}`).getTime());\r\n                }\r\n            }\r\n        });\r\n        const vOrder = Array.from(venuePubs.keys()).sort((a, b) => {\r\n            const aVenueTime = venueTimes.has(a) ? venueTimes.get(a) : -1;\r\n            const bVenueTime = venueTimes.has(b) ? venueTimes.get(b) : -1;\r\n            return bVenueTime - aVenueTime;\r\n        });\r\n        if(groupByVenue) {\r\n            const vyDisplays: (JSX.Element|string)[] = vOrder.map((vid: number) => {\r\n                let venueString: string;\r\n                const venue = idToVenueYear.get(vid);\r\n                if(venue) {\r\n                    venueString = `${venue.short_name} ${venue.year}`;\r\n                } else {\r\n                    venueString = `...`;\r\n                }\r\n\r\n                const pubDisplays = venuePubs.get(vid).map((pub) => {\r\n                    return <li key={pub.id}><PublicationSummaryDisplay detailLevel={this.props.detailLevel} data={pub} /></li>;\r\n                });\r\n\r\n                const venueDisplay = venue.homepage ?\r\n                    <span className=\"venue\"><a href={venue.homepage} target='_blank'>{venueString}</a></span> :\r\n                    <span className=\"venue\">{venueString}</span>;\r\n\r\n                return <li key={vid}>\r\n                    {venueDisplay}\r\n                    <ul>{pubDisplays}</ul>\r\n                </li>;\r\n            });\r\n\r\n            return <ul className=\"publication-list\">\r\n                {vyDisplays}\r\n            </ul>;\r\n        } else {\r\n            const pubDisplays: JSX.Element[] = [];\r\n            vOrder.forEach((vyid: number) => {\r\n                venuePubs.get(vyid).forEach((pub) => {\r\n                    pubDisplays.push(<li key={pub.id}><PublicationSummaryDisplay detailLevel={this.props.detailLevel} highlightAuthors={this.props.highlightAuthors} data={pub} /></li>);\r\n                });\r\n            });\r\n\r\n            return <ul className=\"publication-list\">{pubDisplays}</ul>;\r\n        }\r\n    }\r\n}"],"sourceRoot":""}