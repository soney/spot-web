{"version":3,"sources":["webpack:///./src/pages/team.tsx","webpack:///./src/components/members.tsx"],"names":["indexQuery","props","context","render","data","this","active","SpotPage","team","className","highlightPubs","allStrapiAuthor","nodes","source","strapiGroup","joining","React","MemberListDisplay","memberDisplays","map","node","key","id","MemberDisplay","strapiId","given_name","family_name","short_bio","color","memberContent","fluid","headshot","childImageSharp","alt","highlightMember","pubList","document","querySelector","pubListElements","Array","from","childNodes","memberElement","classList","add","setAttribute","paperRows","querySelectorAll","relevantPaperRows","notRelevantPaperRows","i","length","row","item","getAttribute","split","a","parseInt","indexOf","push","forEach","el","li","parentElement","append","unhighlightMember","remove","removeAttribute","membership","onMouseEnter","onMouseLeave","data-member-id","to","href","homepage","target"],"mappings":"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","file":"component---src-pages-team-tsx-1a65015dd3f625288e8a.js","sourcesContent":["import * as React from 'react'\nimport { MemberListDisplay } from '../components/members';\nimport { PublicationListDisplay } from '../components/publication-list';\nimport { graphql } from 'gatsby';\nimport Link from 'gatsby-link'\nimport { Layout, SpotPage } from '../components/layout';\nimport * as ReactMarkdown from 'react-markdown';\n\nimport { StrapiAuthorGroupConnection, StrapiPublicationGroupConnection, StrapiGroup } from '../../graphql-types';\n\nexport const indexQuery = graphql`query team {\n    allStrapiAuthor(filter: {membership: {in: [\"lead\", \"member\"]}}, sort: {fields: [membership, family_name], order: ASC}) {\n        nodes {\n            id\n            strapiId\n            color\n            given_name\n            family_name\n            middle_name\n            homepage\n            short_bio\n            membership\n            headshot {\n                childImageSharp {\n                    fluid(maxWidth: 700) {\n                        base64\n                        aspectRatio\n                        src\n                        srcSet\n                        sizes\n                    }\n                }\n            }\n        }\n    }\n    strapiGroup {\n        overview \n        joining\n    }\n}`;\n\ninterface IndexPageProps {\n    data: {\n        allStrapiAuthor: StrapiAuthorGroupConnection,\n        strapiGroup: StrapiGroup\n    }\n}\n\nexport default class extends React.Component<IndexPageProps, {}> {\n    constructor(props: IndexPageProps, context: {}) {\n        super(props, context);\n    }\n    public render() {\n        const { data } = this.props;\n        return <Layout active={SpotPage.team}>\n            <div className=\"container\">\n                <h2 className=\"\">Current Team Members</h2>\n                <MemberListDisplay highlightPubs={false} data={data.allStrapiAuthor.nodes} />\n            </div>\n            <div className=\"container\">\n                <h2 className=\"\">Join</h2>\n                <ReactMarkdown source={data.strapiGroup.joining} />\n            </div>\n        </Layout>;\n    }\n}","import Img from 'gatsby-image';\nimport Link from 'gatsby-link';\nimport * as React from 'react';\nimport { StrapiAuthor } from '../../graphql-types';\n\ninterface MemberListDisplayProps {\n    data: ReadonlyArray<StrapiAuthor>,\n    highlightPubs: boolean\n}\n\nexport class MemberListDisplay extends React.Component<MemberListDisplayProps, {}> {\n    constructor(props: MemberListDisplayProps, context: {}) {\n        super(props, context)\n    }\n    public render() {\n        const { data } = this.props;\n        const memberDisplays = data.map((node: StrapiAuthor) => (\n            <div key={node.id} className=\"col col-\"><MemberDisplay highlightPubs={this.props.highlightPubs} data={node} /></div>\n        ));\n        return <div className=\"container\">\n            <div className=\"row\">\n                {memberDisplays}\n            </div>\n        </div>;\n    }\n}\n\ninterface MemberDisplayProps {\n    data: StrapiAuthor,\n    highlightPubs: boolean\n}\n\nclass MemberDisplay extends React.Component<MemberDisplayProps, {}> {\n    constructor(props: MemberDisplayProps, context: {}) {\n        super(props, context);\n    }\n    private pubListElements: ChildNode[];\n    public render(): JSX.Element {\n        const { data } = this.props;\n        const { strapiId, given_name, family_name, short_bio } = data;\n        const color = data.color || '#FFFF00';\n        const memberContent: JSX.Element[] = [\n            <Img className=\"member-headshot\" fluid={data.headshot.childImageSharp.fluid as any} alt={`Headshot of ${given_name} ${family_name}`} />,\n            <div>\n                <span className=\"member-name\">{`${given_name} ${family_name}`}</span>\n            </div>,\n            <div className=\"member-short-bio\">{short_bio}</div>\n        ];\n\n        const highlightMember = () => {\n            if(this.props.highlightPubs) {\n                const pubList = document.querySelector('.publication-list');\n                this.pubListElements = Array.from(pubList.childNodes);\n                const memberElement: Element = document.querySelector(`.member-display[data-member-id='${strapiId}'] .member-name`);\n                if(memberElement) {\n                    memberElement.classList.add('hover-highlight');\n                    memberElement.setAttribute('style', `background-color: ${color}`);\n                }\n\n                const paperRows = document.querySelectorAll('.paper');\n                const relevantPaperRows: Element[] = [];\n                const notRelevantPaperRows: Element[] = [];\n                for(let i: number = 0; i<paperRows.length; i++) {\n                    const row = paperRows.item(i);\n                    const authors = row.getAttribute('data-authors')\n                    const authorIDs = authors.split(',').map((a) => parseInt(a));\n                    if(authorIDs.indexOf(strapiId) >= 0) {\n                        relevantPaperRows.push(row);\n                    } else {\n                        notRelevantPaperRows.push(row);\n                    }\n                }\n\n                relevantPaperRows.forEach((el: Element) => {\n                    el.classList.add('hover-highlight');\n                });\n                notRelevantPaperRows.forEach((el: Element) => {\n                    el.classList.add('hover-no-highlight');\n                    el.setAttribute('style', `opacity: 0.4`);\n                    const li=el.parentElement;\n                    li.parentElement.append(li);\n                });\n\n                const authorElements = document.querySelectorAll(`.paper-author[data-author-id='${strapiId}']`);\n\n                authorElements.forEach((el) => {\n                    el.classList.add('hover-highlight');\n                    el.setAttribute('style', `background-color: ${color}`);\n                });\n            }\n        };\n        const unhighlightMember = () => {\n            if(this.props.highlightPubs) {\n                const pubList = document.querySelector('.publication-list');\n                this.pubListElements.forEach((el) => {\n                    pubList.append(el);\n                })\n                const memberElement = document.querySelector(`.member-display .member-name.hover-highlight`);\n                if(memberElement) {\n                    memberElement.classList.remove('hover-highlight');\n                    memberElement.removeAttribute('style');\n                }\n\n                const relevantPaperRows = document.querySelectorAll(`.paper.hover-highlight,.paper.hover-no-highlight`);\n                relevantPaperRows.forEach((el) => {\n                    el.classList.remove('hover-highlight');\n                    el.classList.remove('hover-no-highlight');\n                    el.removeAttribute('style');\n                });\n                const authorElements = document.querySelectorAll(`.paper-author.hover-highlight`);\n                authorElements.forEach((el) => {\n                    el.classList.remove('hover-highlight');\n                    el.removeAttribute('style');\n                });\n            }\n        };\n\n        if(data.membership === 'lead') {\n            return <Link onMouseEnter = {highlightMember} onMouseLeave = {unhighlightMember} className=\"member-display\" data-member-id={strapiId} to={`/${data.given_name}_${data.family_name}`}>{memberContent}</Link>;\n        } else {\n            return <a onMouseEnter={highlightMember} onMouseLeave={unhighlightMember} className=\"member-display\" data-member-id={strapiId} href={data.homepage} target=\"_blank\">{memberContent}</a>;\n        }\n    }\n}"],"sourceRoot":""}