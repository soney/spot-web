{"version":3,"sources":["webpack:///./src/pages/team.tsx","webpack:///./src/components/members.tsx"],"names":["indexQuery","props","context","render","data","this","active","SpotPage","team","className","layout","MemberListLayout","full_vertical","highlightPubs","allStrapiAuthor","nodes","source","strapiGroup","joining","React","MemberListDisplay","memberDisplays","map","node","MemberDisplay","key","id","strapiId","given_name","family_name","short_bio","long_bio","homepage","links","media","color","highlightMember","pubList","document","querySelector","pubListElements","Array","from","childNodes","memberElement","classList","add","setAttribute","paperRows","querySelectorAll","relevantPaperRows","notRelevantPaperRows","i","length","row","item","getAttribute","split","a","parseInt","indexOf","push","forEach","el","li","parentElement","append","unhighlightMember","remove","removeAttribute","linksElements","l","href","url","target","description","mediaElements","m","publicURL","download","fluid","headshot","childImageSharp","alt","memberContent","use_local_homepage","onMouseEnter","onMouseLeave","data-member-id","to"],"mappings":"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","file":"component---src-pages-team-tsx-b79220776b959b059b1c.js","sourcesContent":["import * as React from 'react'\r\nimport { MemberListDisplay, MemberListLayout } from '../components/members';\r\nimport { PublicationListDisplay } from '../components/publication-list';\r\nimport { graphql } from 'gatsby';\r\nimport Link from 'gatsby-link'\r\nimport { Layout, SpotPage } from '../components/layout';\r\nimport * as ReactMarkdown from 'react-markdown';\r\n\r\nimport { StrapiAuthorGroupConnection, StrapiPublicationGroupConnection, StrapiGroup } from '../../graphql-types';\r\n\r\nexport const indexQuery = graphql`query team {\r\n    allStrapiAuthor(filter: {membership: {in: [\"lead\", \"member\"]}}, sort: {fields: [membership, family_name], order: ASC}) {\r\n        nodes {\r\n            id\r\n            strapiId\r\n            color\r\n            given_name\r\n            family_name\r\n            middle_name\r\n            homepage\r\n            short_bio\r\n            long_bio\r\n            membership\r\n            use_local_homepage\r\n            links {\r\n                id\r\n                url\r\n                description\r\n            }\r\n            media {\r\n                id\r\n                description\r\n                media {\r\n                    publicURL\r\n                }\r\n            }\r\n            headshot {\r\n                childImageSharp {\r\n                    fluid(maxWidth: 700) {\r\n                        base64\r\n                        aspectRatio\r\n                        src\r\n                        srcSet\r\n                        sizes\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    strapiGroup {\r\n        overview \r\n        joining\r\n    }\r\n}`;\r\n\r\ninterface IndexPageProps {\r\n    data: {\r\n        allStrapiAuthor: StrapiAuthorGroupConnection,\r\n        strapiGroup: StrapiGroup\r\n    }\r\n}\r\n\r\nexport default class extends React.Component<IndexPageProps, {}> {\r\n    constructor(props: IndexPageProps, context: {}) {\r\n        super(props, context);\r\n    }\r\n    public render() {\r\n        const { data } = this.props;\r\n        return <Layout active={SpotPage.team}>\r\n            <div className=\"container\">\r\n                <h2 className=\"\">Current Team Members</h2>\r\n                <MemberListDisplay layout={MemberListLayout.full_vertical} highlightPubs={false} data={data.allStrapiAuthor.nodes} />\r\n            </div>\r\n            <div className=\"container\">\r\n                <h2 className=\"\">Join Us</h2>\r\n                <ReactMarkdown source={data.strapiGroup.joining} />\r\n            </div>\r\n        </Layout>;\r\n    }\r\n}","import Img from 'gatsby-image';\r\nimport Link from 'gatsby-link';\r\nimport * as React from 'react';\r\nimport { StrapiAuthor } from '../../graphql-types';\r\nimport * as ReactMarkdown from 'react-markdown';\r\n\r\nexport enum MemberListLayout {\r\n    short_horizontal='short_horizontal', full_vertical='full_vertical'\r\n}\r\n\r\ninterface MemberListDisplayProps {\r\n    data: ReadonlyArray<StrapiAuthor>,\r\n    highlightPubs: boolean,\r\n    layout: MemberListLayout\r\n}\r\n\r\nexport class MemberListDisplay extends React.Component<MemberListDisplayProps, {}> {\r\n    constructor(props: MemberListDisplayProps, context: {}) {\r\n        super(props, context)\r\n    }\r\n    public render() {\r\n        const { data, layout } = this.props;\r\n\r\n        if(layout === MemberListLayout.full_vertical) {\r\n            const memberDisplays = data.map((node: StrapiAuthor) => (\r\n                <MemberDisplay highlightPubs={this.props.highlightPubs} data={node} layout={this.props.layout} />\r\n            ));\r\n            return <div className=\"container\"> {memberDisplays} </div>;\r\n        } else {\r\n            // const col_count = Math.floor(12/data.length);\r\n            const memberDisplays = data.map((node: StrapiAuthor) => (\r\n                <div key={node.id} className={`col col-sm-`}><MemberDisplay layout={this.props.layout} highlightPubs={this.props.highlightPubs} data={node} /></div>\r\n            ));\r\n            return <div className=\"container\">\r\n                <div className=\"row\">\r\n                    {memberDisplays}\r\n                </div>\r\n            </div>;\r\n        }\r\n    }\r\n}\r\n\r\ninterface MemberDisplayProps {\r\n    data: StrapiAuthor,\r\n    layout: MemberListLayout,\r\n    highlightPubs: boolean\r\n}\r\n\r\nclass MemberDisplay extends React.Component<MemberDisplayProps, {}> {\r\n    constructor(props: MemberDisplayProps, context: {}) {\r\n        super(props, context);\r\n    }\r\n    private pubListElements: ChildNode[];\r\n    public render(): JSX.Element {\r\n        const { data } = this.props;\r\n        const { strapiId, given_name, family_name, short_bio, long_bio, homepage, links, media } = data;\r\n        const color = data.color || '#FFFF00';\r\n\r\n        const highlightMember = () => {\r\n            if(this.props.highlightPubs) {\r\n                const pubList = document.querySelector('.publication-list');\r\n                this.pubListElements = Array.from(pubList.childNodes);\r\n                const memberElement: Element = document.querySelector(`.member-display[data-member-id='${strapiId}'] .member-name`);\r\n                if(memberElement) {\r\n                    memberElement.classList.add('hover-highlight');\r\n                    memberElement.setAttribute('style', `background-color: ${color}`);\r\n                }\r\n\r\n                const paperRows = document.querySelectorAll('.paper');\r\n                const relevantPaperRows: Element[] = [];\r\n                const notRelevantPaperRows: Element[] = [];\r\n                for(let i: number = 0; i<paperRows.length; i++) {\r\n                    const row = paperRows.item(i);\r\n                    const authors = row.getAttribute('data-authors')\r\n                    const authorIDs = authors.split(',').map((a) => parseInt(a));\r\n                    if(authorIDs.indexOf(strapiId) >= 0) {\r\n                        relevantPaperRows.push(row);\r\n                    } else {\r\n                        notRelevantPaperRows.push(row);\r\n                    }\r\n                }\r\n\r\n                relevantPaperRows.forEach((el: Element) => {\r\n                    el.classList.add('hover-highlight');\r\n                });\r\n                notRelevantPaperRows.forEach((el: Element) => {\r\n                    el.classList.add('hover-no-highlight');\r\n                    el.setAttribute('style', `opacity: 0.4`);\r\n                    const li=el.parentElement;\r\n                    li.parentElement.append(li);\r\n                });\r\n\r\n                const authorElements = document.querySelectorAll(`.paper-author[data-author-id='${strapiId}']`);\r\n\r\n                authorElements.forEach((el) => {\r\n                    el.classList.add('hover-highlight');\r\n                    el.setAttribute('style', `background-color: ${color}`);\r\n                });\r\n            }\r\n        };\r\n        const unhighlightMember = () => {\r\n            if(this.props.highlightPubs) {\r\n                const pubList = document.querySelector('.publication-list');\r\n                this.pubListElements.forEach((el) => {\r\n                    pubList.append(el);\r\n                })\r\n                const memberElement = document.querySelector(`.member-display .member-name.hover-highlight`);\r\n                if(memberElement) {\r\n                    memberElement.classList.remove('hover-highlight');\r\n                    memberElement.removeAttribute('style');\r\n                }\r\n\r\n                const relevantPaperRows = document.querySelectorAll(`.paper.hover-highlight,.paper.hover-no-highlight`);\r\n                relevantPaperRows.forEach((el) => {\r\n                    el.classList.remove('hover-highlight');\r\n                    el.classList.remove('hover-no-highlight');\r\n                    el.removeAttribute('style');\r\n                });\r\n                const authorElements = document.querySelectorAll(`.paper-author.hover-highlight`);\r\n                authorElements.forEach((el) => {\r\n                    el.classList.remove('hover-highlight');\r\n                    el.removeAttribute('style');\r\n                });\r\n            }\r\n        };\r\n\r\n        if(this.props.layout===MemberListLayout.full_vertical) {\r\n            const linksElements = links.map((l) => {\r\n                return <li key={l.id} className=\"breadcrumb-item\"><a href={l.url} target='_blank'>{l.description}</a></li>\r\n            });\r\n            const mediaElements = media.map((m) => {\r\n                return <li key={m.id} className=\"breadcrumb-item\"><a href={m.media.publicURL} download={`${family_name}-${m.description}`} target='_blank'>{m.description}</a></li>\r\n            })\r\n            return <div className=\"row member-row\">\r\n                <div className=\"col col-md-2\">\r\n                    <Img className=\"member-headshot\" fluid={data.headshot.childImageSharp.fluid as any} alt={`Headshot of ${given_name} ${family_name}`} />\r\n                </div>\r\n                <div className=\"col col-md-10\">\r\n                    <h3>{`${given_name} ${family_name}`}</h3>\r\n                    <ReactMarkdown source={long_bio} />\r\n                    <ul className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\"><i className=\"fas fa-home\" />&nbsp;<a href={homepage} target='_blank'>Homepage</a></li>\r\n                        {linksElements}\r\n                        {mediaElements}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        } else {\r\n            const memberContent: JSX.Element[] = [\r\n                <Img className=\"member-headshot\" fluid={data.headshot.childImageSharp.fluid as any} alt={`Headshot of ${given_name} ${family_name}`} />,\r\n                <div>\r\n                    <span className=\"member-name\">{`${given_name} ${family_name}`}</span>\r\n                </div>,\r\n                <div className=\"member-short-bio d-none d-sm-block\">{short_bio}</div>\r\n            ];\r\n            if(data.use_local_homepage) {\r\n                return <Link onMouseEnter = {highlightMember} onMouseLeave = {unhighlightMember} className=\"member-display\" data-member-id={strapiId} to={`/${data.given_name}_${data.family_name}`}>{memberContent}</Link>;\r\n            } else {\r\n                return <a onMouseEnter={highlightMember} onMouseLeave={unhighlightMember} className=\"member-display\" data-member-id={strapiId} href={data.homepage} target=\"_blank\">{memberContent}</a>;\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":""}