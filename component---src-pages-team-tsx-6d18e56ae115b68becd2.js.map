{"version":3,"sources":["webpack:///./src/pages/team.tsx","webpack:///./src/components/members.tsx"],"names":["indexQuery","props","context","render","data","this","active","SpotPage","team","className","layout","MemberListLayout","full_vertical","highlightPubs","allStrapiAuthor","nodes","source","strapiGroup","joining","React","MemberListDisplay","memberDisplays","map","node","MemberDisplay","key","id","strapiId","given_name","family_name","short_bio","long_bio","homepage","links","media","color","highlightMember","pubList","document","querySelector","pubListElements","Array","from","childNodes","memberElement","classList","add","setAttribute","paperRows","querySelectorAll","relevantPaperRows","notRelevantPaperRows","i","length","row","item","getAttribute","split","a","parseInt","indexOf","push","forEach","el","li","parentElement","append","unhighlightMember","remove","removeAttribute","linksElements","l","href","url","target","description","mediaElements","m","publicURL","download","fluid","headshot","childImageSharp","alt","memberContent","use_local_homepage","onMouseEnter","onMouseLeave","data-member-id","to"],"mappings":"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","file":"component---src-pages-team-tsx-6d18e56ae115b68becd2.js","sourcesContent":["import * as React from 'react'\nimport { MemberListDisplay, MemberListLayout } from '../components/members';\nimport { PublicationListDisplay } from '../components/publication-list';\nimport { graphql } from 'gatsby';\nimport Link from 'gatsby-link'\nimport { Layout, SpotPage } from '../components/layout';\nimport * as ReactMarkdown from 'react-markdown';\n\nimport { StrapiAuthorGroupConnection, StrapiPublicationGroupConnection, StrapiGroup } from '../../graphql-types';\n\nexport const indexQuery = graphql`query team {\n    allStrapiAuthor(filter: {membership: {in: [\"lead\", \"member\"]}}, sort: {fields: [membership, family_name], order: ASC}) {\n        nodes {\n            id\n            strapiId\n            color\n            given_name\n            family_name\n            middle_name\n            homepage\n            short_bio\n            long_bio\n            membership\n            use_local_homepage\n            links {\n                id\n                url\n                description\n            }\n            media {\n                id\n                description\n                media {\n                    publicURL\n                }\n            }\n            headshot {\n                childImageSharp {\n                    fluid(maxWidth: 700) {\n                        base64\n                        aspectRatio\n                        src\n                        srcSet\n                        sizes\n                    }\n                }\n            }\n        }\n    }\n    strapiGroup {\n        overview \n        joining\n    }\n}`;\n\ninterface IndexPageProps {\n    data: {\n        allStrapiAuthor: StrapiAuthorGroupConnection,\n        strapiGroup: StrapiGroup\n    }\n}\n\nexport default class extends React.Component<IndexPageProps, {}> {\n    constructor(props: IndexPageProps, context: {}) {\n        super(props, context);\n    }\n    public render() {\n        const { data } = this.props;\n        return <Layout active={SpotPage.team}>\n            <div className=\"container\">\n                <h2 className=\"\">Current Team Members</h2>\n                <MemberListDisplay layout={MemberListLayout.full_vertical} highlightPubs={false} data={data.allStrapiAuthor.nodes} />\n            </div>\n            <div className=\"container\">\n                <h2 className=\"\">Join Us</h2>\n                <ReactMarkdown source={data.strapiGroup.joining} />\n            </div>\n        </Layout>;\n    }\n}","import Img from 'gatsby-image';\nimport Link from 'gatsby-link';\nimport * as React from 'react';\nimport { StrapiAuthor } from '../../graphql-types';\nimport * as ReactMarkdown from 'react-markdown';\n\nexport enum MemberListLayout {\n    short_horizontal='short_horizontal', full_vertical='full_vertical'\n}\n\ninterface MemberListDisplayProps {\n    data: ReadonlyArray<StrapiAuthor>,\n    highlightPubs: boolean,\n    layout: MemberListLayout\n}\n\nexport class MemberListDisplay extends React.Component<MemberListDisplayProps, {}> {\n    constructor(props: MemberListDisplayProps, context: {}) {\n        super(props, context)\n    }\n    public render() {\n        const { data, layout } = this.props;\n\n        if(layout === MemberListLayout.full_vertical) {\n            const memberDisplays = data.map((node: StrapiAuthor) => (\n                <MemberDisplay highlightPubs={this.props.highlightPubs} data={node} layout={this.props.layout} />\n            ));\n            return <div className=\"container\"> {memberDisplays} </div>;\n        } else {\n            // const col_count = Math.floor(12/data.length);\n            const memberDisplays = data.map((node: StrapiAuthor) => (\n                <div key={node.id} className={`col col-sm-`}><MemberDisplay layout={this.props.layout} highlightPubs={this.props.highlightPubs} data={node} /></div>\n            ));\n            return <div className=\"container\">\n                <div className=\"row\">\n                    {memberDisplays}\n                </div>\n            </div>;\n        }\n    }\n}\n\ninterface MemberDisplayProps {\n    data: StrapiAuthor,\n    layout: MemberListLayout,\n    highlightPubs: boolean\n}\n\nclass MemberDisplay extends React.Component<MemberDisplayProps, {}> {\n    constructor(props: MemberDisplayProps, context: {}) {\n        super(props, context);\n    }\n    private pubListElements: ChildNode[];\n    public render(): JSX.Element {\n        const { data } = this.props;\n        const { strapiId, given_name, family_name, short_bio, long_bio, homepage, links, media } = data;\n        const color = data.color || '#FFFF00';\n\n        const highlightMember = () => {\n            if(this.props.highlightPubs) {\n                const pubList = document.querySelector('.publication-list');\n                this.pubListElements = Array.from(pubList.childNodes);\n                const memberElement: Element = document.querySelector(`.member-display[data-member-id='${strapiId}'] .member-name`);\n                if(memberElement) {\n                    memberElement.classList.add('hover-highlight');\n                    memberElement.setAttribute('style', `background-color: ${color}`);\n                }\n\n                const paperRows = document.querySelectorAll('.paper');\n                const relevantPaperRows: Element[] = [];\n                const notRelevantPaperRows: Element[] = [];\n                for(let i: number = 0; i<paperRows.length; i++) {\n                    const row = paperRows.item(i);\n                    const authors = row.getAttribute('data-authors')\n                    const authorIDs = authors.split(',').map((a) => parseInt(a));\n                    if(authorIDs.indexOf(strapiId) >= 0) {\n                        relevantPaperRows.push(row);\n                    } else {\n                        notRelevantPaperRows.push(row);\n                    }\n                }\n\n                relevantPaperRows.forEach((el: Element) => {\n                    el.classList.add('hover-highlight');\n                });\n                notRelevantPaperRows.forEach((el: Element) => {\n                    el.classList.add('hover-no-highlight');\n                    el.setAttribute('style', `opacity: 0.4`);\n                    const li=el.parentElement;\n                    li.parentElement.append(li);\n                });\n\n                const authorElements = document.querySelectorAll(`.paper-author[data-author-id='${strapiId}']`);\n\n                authorElements.forEach((el) => {\n                    el.classList.add('hover-highlight');\n                    el.setAttribute('style', `background-color: ${color}`);\n                });\n            }\n        };\n        const unhighlightMember = () => {\n            if(this.props.highlightPubs) {\n                const pubList = document.querySelector('.publication-list');\n                this.pubListElements.forEach((el) => {\n                    pubList.append(el);\n                })\n                const memberElement = document.querySelector(`.member-display .member-name.hover-highlight`);\n                if(memberElement) {\n                    memberElement.classList.remove('hover-highlight');\n                    memberElement.removeAttribute('style');\n                }\n\n                const relevantPaperRows = document.querySelectorAll(`.paper.hover-highlight,.paper.hover-no-highlight`);\n                relevantPaperRows.forEach((el) => {\n                    el.classList.remove('hover-highlight');\n                    el.classList.remove('hover-no-highlight');\n                    el.removeAttribute('style');\n                });\n                const authorElements = document.querySelectorAll(`.paper-author.hover-highlight`);\n                authorElements.forEach((el) => {\n                    el.classList.remove('hover-highlight');\n                    el.removeAttribute('style');\n                });\n            }\n        };\n\n        if(this.props.layout===MemberListLayout.full_vertical) {\n            const linksElements = links.map((l) => {\n                return <li key={l.id} className=\"breadcrumb-item\"><a href={l.url} target='_blank'>{l.description}</a></li>\n            });\n            const mediaElements = media.map((m) => {\n                return <li key={m.id} className=\"breadcrumb-item\"><a href={m.media.publicURL} download={`${family_name}-${m.description}`} target='_blank'>{m.description}</a></li>\n            })\n            return <div className=\"row member-row\">\n                <div className=\"col col-md-2\">\n                    <Img className=\"member-headshot\" fluid={data.headshot.childImageSharp.fluid as any} alt={`Headshot of ${given_name} ${family_name}`} />\n                </div>\n                <div className=\"col col-md-10\">\n                    <h3>{`${given_name} ${family_name}`}</h3>\n                    <ReactMarkdown source={long_bio} />\n                    <ul className=\"breadcrumb\">\n                        <li className=\"breadcrumb-item\"><i className=\"fas fa-home\" />&nbsp;<a href={homepage} target='_blank'>Homepage</a></li>\n                        {linksElements}\n                        {mediaElements}\n                    </ul>\n                </div>\n            </div>\n        } else {\n            const memberContent: JSX.Element[] = [\n                <Img className=\"member-headshot\" fluid={data.headshot.childImageSharp.fluid as any} alt={`Headshot of ${given_name} ${family_name}`} />,\n                <div>\n                    <span className=\"member-name\">{`${given_name} ${family_name}`}</span>\n                </div>,\n                <div className=\"member-short-bio d-none d-sm-block\">{short_bio}</div>\n            ];\n            if(data.use_local_homepage) {\n                return <Link onMouseEnter = {highlightMember} onMouseLeave = {unhighlightMember} className=\"member-display\" data-member-id={strapiId} to={`/${data.given_name}_${data.family_name}`}>{memberContent}</Link>;\n            } else {\n                return <a onMouseEnter={highlightMember} onMouseLeave={unhighlightMember} className=\"member-display\" data-member-id={strapiId} href={data.homepage} target=\"_blank\">{memberContent}</a>;\n            }\n        }\n    }\n}"],"sourceRoot":""}