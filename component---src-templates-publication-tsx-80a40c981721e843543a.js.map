{"version":3,"sources":["webpack:///./src/templates/publication.tsx"],"names":["pubQuery","props","context","render","publication","this","data","strapiPublication","authors","Array","from","authorsDisplay","withLinks","awardDisplay","award","description","award_description","downloadName","getDownloadName","venue_str","venue","short_name","year","homepage","target","href","pdfDisplay","pdf","className","publicURL","download","active","SpotPage","research","additionalInfo","title","abstract","React"],"mappings":"mSAQO,IAAMA,EAAW,a,uHAmCpB,WAAYC,EAAyBC,GAAa,OAC9C,YAAMD,EAAOC,IADiC,K,mBAG3CC,OAAP,WACI,IAAMC,EAAcC,KAAKJ,MAAMK,KAAKC,kBAE9BC,EAAUC,MAAMC,KAAKN,EAAYI,SACjCG,EAAiB,gBAAC,IAAD,CAAmBC,WAAW,EAAMJ,QAASA,IAC9DK,EAAe,gBAAC,IAAD,CAAcP,KAAMF,EAAYU,MAAOC,YAAaX,EAAYY,oBAC/EC,EAAeC,YAAgBd,GAEjCe,EAAgC,GACpC,GAAGf,EAAYgB,MAAO,KACVA,EAAUhB,EAAVgB,MAEJD,EADDC,EACgBA,EAAMC,WAAZ,IAA0BjB,EAAYgB,MAAME,KAEzC,GAAGlB,EAAYgB,MAAME,KAGlCF,EAAMG,WACLJ,EAAY,qBAAGK,OAAO,SAASC,KAAML,EAAMG,UAAWJ,SAG1DA,EAAY,GAGhB,IAAMO,EAAatB,EAAYuB,IAAM,qBAAGC,UAAU,4BAA4BH,KAAMrB,EAAYuB,IAAIE,UAAWC,SAAUb,GAApF,OAA4G,KACjJ,OACI,gBAAC,IAAD,CAAQc,OAAQC,IAASC,SAAUC,eAAgB9B,EAAY+B,OAC3D,uBAAKP,UAAU,aACX,uBAAKA,UAAU,OACX,uBAAKA,UAAU,OACX,sBAAIA,UAAU,eAAexB,EAAY+B,SAGjD,uBAAKP,UAAU,OACX,uBAAKA,UAAU,OACX,sBAAIA,UAAU,iBAAiBjB,KAGvC,uBAAKiB,UAAU,OACX,uBAAKA,UAAU,YACX,sBAAIA,UAAU,eACTT,GAEJN,EACAa,GAEL,qBAAGE,UAAU,4BACRxB,EAAYgC,c,GAnDZC","file":"component---src-templates-publication-tsx-80a40c981721e843543a.js","sourcesContent":["import { graphql } from 'gatsby';\nimport * as React from 'react';\nimport { StrapiAuthor, StrapiPublication, StrapiVenueConnection } from '../../graphql-types';\nimport { AuthorListDisplay } from '../components/authors';\nimport { Layout, SpotPage } from '../components/layout';\nimport { AwardDisplay, getDownloadName } from '../components/publications';\nimport './publication.scss';\n\nexport const pubQuery = graphql`query publication($id: String!) {\n    strapiPublication(id: {eq: $id}) {\n        id\n        title\n        abstract\n        award\n        pdf {\n            id\n            publicURL\n        }\n        authors {\n            id\n            membership\n            given_name\n            family_name\n            homepage\n        }\n        venue {\n            id\n            year\n            short_name\n            homepage\n        }\n    }\n}`;\n\n\ninterface PublicationProps {\n    data: {\n        strapiPublication: StrapiPublication,\n        allStrapiVenue: StrapiVenueConnection\n    }\n}\n\nexport default class extends React.Component<PublicationProps, {}> {\n    constructor(props: PublicationProps, context: {}) {\n        super(props, context);\n    }\n    public render() {\n        const publication = this.props.data.strapiPublication;\n\n        const authors = Array.from(publication.authors) as any as StrapiAuthor[];\n        const authorsDisplay = <AuthorListDisplay withLinks={true} authors={authors} />;\n        const awardDisplay = <AwardDisplay data={publication.award} description={publication.award_description} />;\n        const downloadName = getDownloadName(publication);\n\n        let venue_str: string|JSX.Element = '';\n        if(publication.venue) {\n            const { venue } = publication;\n            if(venue) {\n                venue_str = `${venue.short_name} ${publication.venue.year}`;\n            } else {\n                venue_str = `${publication.venue.year}`;\n            }\n\n            if(venue.homepage) {\n                venue_str = <a target='_blank' href={venue.homepage}>{venue_str}</a>;\n            }\n        } else {\n            venue_str = ``;\n        }\n\n        const pdfDisplay = publication.pdf ? <a className=\"btn btn-primary btn-block\" href={publication.pdf.publicURL} download={downloadName}>PDF</a> : null;\n        return (\n            <Layout active={SpotPage.research} additionalInfo={publication.title}>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h1 className=\"paper-title\">{publication.title}</h1>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h2 className=\"paper-authors\">{authorsDisplay}</h2>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-2\">\n                            <h3 className=\"paper-venue\">\n                                {venue_str}\n                            </h3>\n                            {awardDisplay}\n                            {pdfDisplay}\n                        </div>\n                        <p className=\"col-sm-10 paper-abstract\">\n                            {publication.abstract}\n                        </p>\n                    </div>\n                </div>\n            </Layout>\n        );\n    }\n}"],"sourceRoot":""}