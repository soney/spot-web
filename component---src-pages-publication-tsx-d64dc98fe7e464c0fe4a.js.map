{"version":3,"sources":["webpack:///./src/pages/publication.tsx"],"names":["pubQuery","props","context","render","data","this","authorsDisplay","strapiPublication","authors","map","author","key","id","className","given_name","family_name","awardDisplay","award","fname","pageContext","pdfDisplay","pdf","href","publicURL","download","to","title","venue_short_name","venue_year","year","abstract","React"],"mappings":"0NAUO,IAAMA,EAAW,Y,sBAyBpB,WAAYC,EAAYC,GAAc,OAClC,YAAMD,EAAOC,IADqB,K,0GAG/BC,OAAP,WAAgB,IACJC,EAASC,KAAKJ,MAAdG,KACFE,EAAiBF,EAAKG,kBAAkBC,QAAQC,KAAI,SAACC,GAInD,OAAO,sBAAIC,IAAKD,EAAOE,GAAIC,UAAU,gBAAgBH,EAAOI,WAArD,IAAkEJ,EAAOK,gBAGlFC,EAAiD,eAAjCZ,EAAKG,kBAAkBU,MAA0B,qBAAGJ,UAAU,kBAC1C,sBAAjCT,EAAKG,kBAAkBU,MAAgC,qBAAGJ,UAAU,iBAAqB,KAK5FK,EAAQb,KAAKJ,MAAMkB,YAAYD,MAC/BE,EAAahB,EAAKG,kBAAkBc,IAAM,qBAAGC,KAAMlB,EAAKG,kBAAkBc,IAAIE,UAAWC,SAAUN,GAAzD,OAA0E,KAC1H,OACI,2BACI,gBAAC,IAAD,CAAMO,GAAG,KAAT,UACA,0BAAKrB,EAAKG,kBAAkBmB,OAC3BrB,KAAKJ,MAAMkB,YAAYQ,iBAH5B,IAG+CvB,EAAKG,kBAAkBqB,WAAWC,KAC5Eb,EACD,0BACKV,GAEJc,EACD,yBAAIhB,EAAKG,kBAAkBuB,Y,GA/BdC","file":"component---src-pages-publication-tsx-d64dc98fe7e464c0fe4a.js","sourcesContent":["import * as React from 'react'\nimport Members from '../templates/members';\nimport PublicationList from '../templates/publication_list';\nimport { StaticQuery, graphql } from 'gatsby';\n\nimport * as ReactMarkdown from 'react-markdown';\n\nimport Link from 'gatsby-link'\nimport Image from 'gatsby-image';\n\nexport const pubQuery = graphql`query publication($id: String!) {\n    strapiPublication(id: {eq: $id}) {\n        id\n        title\n        abstract\n        award\n        pdf {\n            id\n            publicURL\n        }\n        authors {\n            id\n            given_name\n            family_name\n            homepage\n        }\n        venue_year {\n            id\n            year\n            venue\n        }\n    }\n}`;\n\nexport default class extends React.Component<any, any> {\n    constructor(props: any, context: any) {\n        super(props, context);\n    }\n    public render() {\n        const { data } = this.props;\n        const authorsDisplay = data.strapiPublication.authors.map((author: any) => {\n            // if(author.homepage) {\n                // return <li key={author.id} className='paper-author'><a href={author.homepage} target='_blank'>{author.given_name} {author.family_name}</a></li>\n            // } else {\n                return <li key={author.id} className='paper-author'>{author.given_name} {author.family_name}</li>\n            // }\n        });\n        const awardDisplay = (data.strapiPublication.award === 'best_paper') ? <i className='fas fa-trophy'></i> :\n                (data.strapiPublication.award === 'honorable_mention' ? <i className=\"fas fa-award\"></i>: null);\n        \n        // console.log(data.pdf);\n        // const firstAuthor = data.authors.length > 0 ? data.authors[0].family_name : '';\n        // const fname = `${firstAuthor}-${venue_short_name}${year}-${data.title}`.replace(/ /g, '_').replace(/[^\\w_-]/g, '');\n        const fname = this.props.pageContext.fname;\n        const pdfDisplay = data.strapiPublication.pdf ? <a href={data.strapiPublication.pdf.publicURL} download={fname}>PDF</a> : null;\n        return (\n            <div>\n                <Link to='/'>(home)</Link>\n                <h1>{data.strapiPublication.title}</h1>\n                {this.props.pageContext.venue_short_name} {data.strapiPublication.venue_year.year}\n                {awardDisplay}\n                <ul>\n                    {authorsDisplay}\n                </ul>\n                {pdfDisplay}\n                <p>{data.strapiPublication.abstract}</p>\n            </div>\n        );\n    }\n}"],"sourceRoot":""}